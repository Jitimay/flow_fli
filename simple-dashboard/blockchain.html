<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowFli - Blockchain Integration | IQAI Hackathon</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
        }
        
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInDown 1s ease-out;
        }
        
        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(45deg, #00d4ff, #5b86e5);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .blockchain-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .blockchain-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            animation: fadeInUp 0.8s ease-out;
        }
        
        .blockchain-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.4);
            border-color: #00d4ff;
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .card-icon {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #00d4ff, #5b86e5);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
        }
        
        .blockchain-terminal {
            background: #000;
            border-radius: 10px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #00ff00;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid #333;
        }
        
        .token-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .metric-item {
            background: rgba(0,212,255,0.1);
            border: 1px solid rgba(0,212,255,0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: #00d4ff;
            margin: 10px 0;
        }
        
        .smart-contract {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .contract-code {
            background: #1a1a1a;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: #ff6b6b;
            overflow-x: auto;
            margin-top: 10px;
        }
        
        .demo-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .demo-btn {
            padding: 15px 20px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #00d4ff, #5b86e5);
            color: white;
            font-size: 0.9rem;
        }
        
        .demo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,212,255,0.4);
        }
        
        .transaction-log {
            background: rgba(0,0,0,0.8);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .tx-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
        }
        
        .tx-hash { color: #00d4ff; }
        .tx-amount { color: #4CAF50; }
        .tx-status { color: #ff6b6b; }
        
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .pulse { animation: pulse 2s infinite; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-link"></i> FlowFli Blockchain Integration</h1>
            <p>Complete ATP Tokenization & On-Chain Water Management</p>
        </div>
        
        <div class="blockchain-grid">
            <div class="blockchain-card">
                <div class="card-header">
                    <div class="card-icon"><i class="fas fa-coins"></i></div>
                    <div class="card-title">IQ Token Economics</div>
                </div>
                <div class="token-metrics">
                    <div class="metric-item">
                        <div>Token Price</div>
                        <div class="metric-value" id="tokenPrice">50 IQ</div>
                        <div>Per Transaction</div>
                    </div>
                    <div class="metric-item">
                        <div>Total Supply</div>
                        <div class="metric-value">1M IQ</div>
                        <div>Tokens</div>
                    </div>
                    <div class="metric-item">
                        <div>Staked</div>
                        <div class="metric-value" id="stakedTokens">250K</div>
                        <div>IQ Tokens</div>
                    </div>
                </div>
                <div class="blockchain-terminal" id="tokenLog">
                    [TOKEN] IQ Token contract deployed: 0x742d35Cc6634C0532925a3b8D4C0532925a3b8D4<br>
                    [TOKEN] Initial supply minted: 1,000,000 IQ<br>
                    [TOKEN] FlowFli agent authorized for token transfers<br>
                    [TOKEN] Staking pool initialized with 25% APY<br>
                </div>
            </div>

            <div class="blockchain-card">
                <div class="card-header">
                    <div class="card-icon"><i class="fas fa-cube"></i></div>
                    <div class="card-title">Smart Contract</div>
                </div>
                <div class="smart-contract">
                    <h4>FlowFli Water Management Contract</h4>
                    <div class="contract-code">
pragma solidity ^0.8.0;

contract FlowFliWaterManager {
    mapping(address => uint256) public waterCredits;
    mapping(bytes32 => Transaction) public transactions;
    
    struct Transaction {
        address user;
        uint256 amount;
        uint256 waterAmount;
        uint256 timestamp;
        bool fraudCheck;
    }
    
    function purchaseWater(uint256 _iqTokens) external {
        require(_iqTokens >= 50, "Minimum 50 IQ tokens");
        require(fraudDetection(msg.sender), "Fraud detected");
        
        uint256 waterAmount = calculateWater(_iqTokens);
        waterCredits[msg.sender] += waterAmount;
        
        emit WaterPurchased(msg.sender, _iqTokens, waterAmount);
        triggerPump(waterAmount);
    }
}
                    </div>
                </div>
                <div class="blockchain-terminal" id="contractLog">
                    [CONTRACT] Smart contract deployed at: 0x1234...5678<br>
                    [CONTRACT] Gas used: 2,847,392<br>
                    [CONTRACT] Contract verified on Etherscan<br>
                    [CONTRACT] FlowFli agent connected to contract<br>
                </div>
            </div>

            <div class="blockchain-card">
                <div class="card-header">
                    <div class="card-icon"><i class="fas fa-network-wired"></i></div>
                    <div class="card-title">ATP Integration</div>
                </div>
                <div class="token-metrics">
                    <div class="metric-item">
                        <div>Agent Status</div>
                        <div class="metric-value pulse" style="color: #4CAF50;">LIVE</div>
                        <div>On ATP</div>
                    </div>
                    <div class="metric-item">
                        <div>Chain Logs</div>
                        <div class="metric-value" id="chainLogs">1,247</div>
                        <div>Entries</div>
                    </div>
                    <div class="metric-item">
                        <div>Uptime</div>
                        <div class="metric-value">99.8%</div>
                        <div>Availability</div>
                    </div>
                </div>
                <div class="blockchain-terminal" id="atpLog">
                    [ATP] Agent tokenized successfully: FlowFli-v1.0<br>
                    [ATP] Deployed on IQAI Agent Tokenization Platform<br>
                    [ATP] Autonomous operations enabled<br>
                    [ATP] Revenue sharing: 70% to token holders<br>
                </div>
            </div>

            <div class="blockchain-card">
                <div class="card-header">
                    <div class="card-icon"><i class="fas fa-shield-alt"></i></div>
                    <div class="card-title">On-Chain Fraud Detection</div>
                </div>
                <div class="token-metrics">
                    <div class="metric-item">
                        <div>Fraud Score</div>
                        <div class="metric-value" id="fraudScore">0.1</div>
                        <div>Risk Level</div>
                    </div>
                    <div class="metric-item">
                        <div>Blocked</div>
                        <div class="metric-value" id="blockedTx">23</div>
                        <div>Transactions</div>
                    </div>
                    <div class="metric-item">
                        <div>Saved</div>
                        <div class="metric-value">$1,247</div>
                        <div>In Fraud</div>
                    </div>
                </div>
                <div class="blockchain-terminal" id="fraudLog">
                    [FRAUD] ML model deployed on-chain for fraud detection<br>
                    [FRAUD] Pattern analysis: 99.7% accuracy<br>
                    [FRAUD] Real-time transaction scoring active<br>
                    [FRAUD] Blacklist updated: 15 suspicious addresses<br>
                </div>
            </div>
        </div>

        <div class="blockchain-card" style="grid-column: 1 / -1;">
            <div class="card-header">
                <div class="card-icon"><i class="fas fa-gamepad"></i></div>
                <div class="card-title">Blockchain Demo Controls</div>
            </div>
            <div class="demo-controls">
                <button class="demo-btn" onclick="simulateTokenTransaction()">
                    <i class="fas fa-coins"></i> Token Transaction
                </button>
                <button class="demo-btn" onclick="deploySmartContract()">
                    <i class="fas fa-cube"></i> Deploy Contract
                </button>
                <button class="demo-btn" onclick="simulateATPLaunch()">
                    <i class="fas fa-rocket"></i> ATP Launch
                </button>
                <button class="demo-btn" onclick="runFraudDetection()">
                    <i class="fas fa-shield-alt"></i> Fraud Detection
                </button>
                <button class="demo-btn" onclick="showTokenomics()">
                    <i class="fas fa-chart-line"></i> Tokenomics
                </button>
                <button class="demo-btn" onclick="simulateStaking()">
                    <i class="fas fa-lock"></i> Staking Pool
                </button>
            </div>
        </div>

        <div class="blockchain-card" style="grid-column: 1 / -1;">
            <div class="card-header">
                <div class="card-icon"><i class="fas fa-list"></i></div>
                <div class="card-title">Live Transaction Log</div>
            </div>
            <div class="transaction-log" id="transactionLog">
                <div class="tx-item">
                    <span class="tx-hash">0x1a2b3c4d...ef56</span>
                    <span class="tx-amount">50 IQ → 25L Water</span>
                    <span class="tx-status">✅ Confirmed</span>
                </div>
                <div class="tx-item">
                    <span class="tx-hash">0x7g8h9i0j...kl12</span>
                    <span class="tx-amount">100 IQ → 50L Water</span>
                    <span class="tx-status">⏳ Pending</span>
                </div>
                <div class="tx-item">
                    <span class="tx-hash">0x3m4n5o6p...qr78</span>
                    <span class="tx-amount">25 IQ → FRAUD</span>
                    <span class="tx-status">❌ Blocked</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        let chainLogs = 1247;
        let blockedTx = 23;
        let fraudScore = 0.1;
        let stakedTokens = 250000;
        
        function addLog(elementId, message) {
            const element = document.getElementById(elementId);
            const timestamp = new Date().toLocaleTimeString();
            element.innerHTML += `[${timestamp}] ${message}<br>`;
            element.scrollTop = element.scrollHeight;
        }
        
        function addTransaction(hash, amount, status) {
            const log = document.getElementById('transactionLog');
            const txItem = document.createElement('div');
            txItem.className = 'tx-item';
            txItem.innerHTML = `
                <span class="tx-hash">${hash}</span>
                <span class="tx-amount">${amount}</span>
                <span class="tx-status">${status}</span>
            `;
            log.insertBefore(txItem, log.firstChild);
        }
        
        function simulateTokenTransaction() {
            const hash = '0x' + Math.random().toString(16).substr(2, 8) + '...';
            const amount = Math.floor(Math.random() * 100 + 50);
            
            addLog('tokenLog', `[TOKEN] Transaction initiated: ${amount} IQ tokens`);
            addLog('tokenLog', `[TOKEN] Gas fee: 0.002 ETH`);
            addLog('tokenLog', `[TOKEN] Transaction hash: ${hash}`);
            addLog('tokenLog', `[TOKEN] Water credits added: ${amount/2}L`);
            
            addTransaction(hash, `${amount} IQ → ${amount/2}L Water`, '✅ Confirmed');
            
            chainLogs++;
            document.getElementById('chainLogs').textContent = chainLogs.toLocaleString();
        }
        
        function deploySmartContract() {
            addLog('contractLog', '[CONTRACT] Compiling FlowFliWaterManager.sol...');
            addLog('contractLog', '[CONTRACT] Optimization enabled, runs: 200');
            addLog('contractLog', '[CONTRACT] Contract size: 24.5 KB');
            addLog('contractLog', '[CONTRACT] Deploying to mainnet...');
            addLog('contractLog', '[CONTRACT] Contract deployed successfully!');
            addLog('contractLog', '[CONTRACT] Address: 0x' + Math.random().toString(16).substr(2, 40));
        }
        
        function simulateATPLaunch() {
            addLog('atpLog', '[ATP] Preparing agent for tokenization...');
            addLog('atpLog', '[ATP] Agent code verified and audited');
            addLog('atpLog', '[ATP] Token economics configured');
            addLog('atpLog', '[ATP] Revenue sharing model: 70/30');
            addLog('atpLog', '[ATP] Agent launched on ATP successfully!');
            addLog('atpLog', '[ATP] Public trading enabled');
        }
        
        function runFraudDetection() {
            const suspiciousAmount = Math.floor(Math.random() * 25 + 5);
            fraudScore = Math.random() * 0.9 + 0.1;
            
            addLog('fraudLog', `[FRAUD] Analyzing transaction: ${suspiciousAmount} IQ`);
            addLog('fraudLog', `[FRAUD] ML model score: ${fraudScore.toFixed(3)}`);
            
            if (fraudScore > 0.7) {
                addLog('fraudLog', '[FRAUD] HIGH RISK - Transaction blocked');
                blockedTx++;
                document.getElementById('blockedTx').textContent = blockedTx;
                addTransaction('0x' + Math.random().toString(16).substr(2, 8) + '...', 
                             `${suspiciousAmount} IQ → FRAUD`, '❌ Blocked');
            } else {
                addLog('fraudLog', '[FRAUD] LOW RISK - Transaction approved');
            }
            
            document.getElementById('fraudScore').textContent = fraudScore.toFixed(1);
        }
        
        function showTokenomics() {
            addLog('tokenLog', '[TOKENOMICS] Total supply: 1,000,000 IQ');
            addLog('tokenLog', '[TOKENOMICS] Circulating: 750,000 IQ (75%)');
            addLog('tokenLog', '[TOKENOMICS] Staked: 250,000 IQ (25%)');
            addLog('tokenLog', '[TOKENOMICS] Market cap: $2,500,000');
            addLog('tokenLog', '[TOKENOMICS] 24h volume: $125,000');
        }
        
        function simulateStaking() {
            const stakeAmount = Math.floor(Math.random() * 1000 + 500);
            stakedTokens += stakeAmount;
            
            addLog('tokenLog', `[STAKING] New stake: ${stakeAmount} IQ tokens`);
            addLog('tokenLog', '[STAKING] APY: 25% (auto-compounding)');
            addLog('tokenLog', `[STAKING] Total staked: ${stakedTokens.toLocaleString()} IQ`);
            addLog('tokenLog', '[STAKING] Rewards distributed daily');
            
            document.getElementById('stakedTokens').textContent = (stakedTokens/1000).toFixed(0) + 'K';
        }
        
        // Auto-generate some activity
        setInterval(() => {
            if (Math.random() > 0.7) {
                simulateTokenTransaction();
            }
        }, 5000);
        
        setInterval(() => {
            if (Math.random() > 0.8) {
                runFraudDetection();
            }
        }, 7000);
    </script>
</body>
</html>
